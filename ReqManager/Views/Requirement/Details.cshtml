@model ReqManager.ViewModels.RequirementViewModel

@{
    ViewBag.Title = "Requirement Details";
}

<div>

    <div id="tabs">
        <ul>
            <li><a href="#req">Requirement</a></li>
            <li><a href="#projectRequirement">Projects</a></li>
            <li><a href="#rr">R-R Traceability</a></li>
            <li><a href="#ra">R-A Traceability</a></li>
            <li><a href="#stakeholder">Stakeholders</a></li>
            <li><a href="#characteristics">Characteristics</a></li>
            <li><a href="#request">Changes Request</a></li>
            <li><a href="#versions">Versions</a></li>
        </ul>
        <div id="req">
            <dl class="dl-horizontal">

                <dt>
                    @Html.DisplayNameFor(model => model.Importance.description)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Importance.description)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.RequirementStatus.description)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.RequirementStatus.description)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.RequirementTemplate.description)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.RequirementTemplate.description)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.RequirementType.description)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.RequirementType.description)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.Users.name)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.Users.name)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.code)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.code)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.description)
                </dt>

                <dd>
                    @Html.Raw(Model.description)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.title)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.title)
                </dd>

                <dt>
                    @Html.DisplayNameFor(model => model.creationDate)
                </dt>

                <dd>
                    @Html.DisplayFor(model => model.creationDate)
                </dd>
            </dl>
        </div>
        <div id="rr">
            <table class="table">
                <tr>
                    <th>
                        Origin Code
                    </th>
                    <th>
                        Target Code
                    </th>
                    <th>
                        Type
                    </th>
                    <th>
                        User
                    </th>
                    <th>
                        Date
                    </th>
                    <th>
                        Link Code
                    </th>
                    <th></th>
                </tr>
                @foreach (var item in Model.linkReq)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequirementOrigin.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequirementTarget.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TypeLink.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Users.name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.creationDate)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.code)
                        </td>
                    </tr>
                }
            </table>
        </div>
        <div id="ra">
            <table class="table">
                <tr>
                    <th>
                        Artifact Code
                    </th>
                    <th>
                        Requirement Code
                    </th>
                    <th>
                        Type Link
                    </th>
                    <th>
                        User
                    </th>
                    <th>
                        Code
                    </th>
                    <th>
                        Date
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model.linkReqArt)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.ProjectArtifact.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Requirement.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TypeLink.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Users.name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.creationDate)
                        </td>
                    </tr>
                }

            </table>
        </div>
        <div id="stakeholder">
            <table class="table">
                <tr>
                    <th>
                        Name
                    </th>
                    <th>
                        Approval Description
                    </th>
                    <th>
                        Approval
                    </th>
                </tr>
                @foreach (var item in Model.stakeholders)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.DisplayName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.approved)
                        </td>
                    </tr>
                }
            </table>
        </div>
        <div id="characteristics">
            <table class="table">
                <tr>
                    <th>Req. Code</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Active</th>
                </tr>
                @foreach (var item in Model.characteristics)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Requirement.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Characteristics.name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Characteristics.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Characteristics.active)
                        </td>
                    </tr>
                }
            </table>
        </div>
        <div id="request">
            <table class="table">
                <tr>
                    <th>Req. Code</th>
                    <th>Status</th>
                    <th>Request</th>
                    <th>Stakeholder</th>
                    <th>Creation Date</th>
                </tr>
                @foreach (var item in Model.request)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Requirement.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequestStatus.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.request)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StakeholderRequirement.DisplayName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.creationDate)
                        </td>
                        <td>@switch (item.RequestStatus.RequestStatusID)
                        {
                            case 1:
                                {
                                    @Html.ActionLink("Approve", "Edit", new { id = item.RequirementRequestForChangesID })
                                     @Html.ActionLink("In Analysis", "Edit", new { id = item.RequirementRequestForChangesID })
                                    break;
                                }
                            case 2:
                                {
                                    @Html.ActionLink("Approve", "Edit", new { id = item.RequirementRequestForChangesID })
                                    break;
                                }
                            default:
                                {
                                    break;
                                }
                        }
                        </td>
                    </tr>
                }
            </table>
        </div>
        <div id="versions">
            <table class="table">
                <tr>
                    <th>Title</th>
                    <th>Version Number</th>
                    <th>Importance</th>
                    <th>Status</th>
                    <th>Type</th>
                    <th>SubType</th>
                    <th>Rationale</th>
                    <th>Version Date</th>
                </tr>
                @foreach (var item in Model.versions)
                                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.title)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.versionNumber)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Importance.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequirementStatus.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequirementType.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.RequirementSubType.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.rationale)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.creationDate)
                        </td>
                    </tr>
                }
            </table>
        </div>
        <div id="projectRequirement">
            <table class="table">
                <tr>
                    <th>Code</th>
                    <th>Description</th>
                    <th>Management Info</th>
                    <th>Enronmental Info</th>
                    <th>Phase</th>
                </tr>
                @foreach (var item in Model.projectRequirement)
                                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Project.code)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Project.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Project.managementInformation)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Project.environmentalInformation)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Project.ProjectPhases.description)
                        </td>
                    </tr>
                }
            </table>
        </div>
    </div>

    
</div>
<p>
    @Html.ActionLink("Approve", "Approve", "StakeholderRequirement", new { id = Model.RequirementID }, null) |
    @Html.ActionLink("Tracking", "TrackingRequirement", "Tracking", new { id = Model.RequirementID }, null) |
    @Html.ActionLink("Request Change", "RequestNewChange", "RequirementRequestForChanges", new { id = Model.RequirementID }, null) |
    @Html.ActionLink("Back to List", "Index")
</p>
